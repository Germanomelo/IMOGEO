<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Cadastrar Apto</title>
        <link href="css/estilo.css" type="text/css" rel="stylesheet"/>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
        <script type="text/javascript" src="js/maps_busca_localizacao_endereco.js"></script>
    </h:head>
    <h:body>
        <div id="topo">
            <div id ="topoconteudo">
                <ui:include src="/template-topo.xhtml"/>
            </div>
        </div>
        <div id="principal" style="height: 870px;">
            <h:form id="menulateral" style="height: 870px;">
                <h:commandLink action="meus-imoveis.jsf" value="Meus imoveis" styleClass="link"/>
                <h:commandLink action="add-casa.jsf" value="Cadastrar Casa" styleClass="link"/>
                <h:commandLink action="add-apto.jsf" value="Cadastrar Apartamento" styleClass="link"/>
                <h:commandLink action="minha-conta.jsf" value="Perfil" styleClass="link"/>
            </h:form>
            <p:growl id="growl" showDetail="true" sticky="true" /> 
            <p:panel header="Cadastrar Apartamento"  rendered="#{apartamentoMB.cadastrarApto}" style="width: 745px; float: right"> 
                <h:form>
                    <h:messages globalOnly="true" />
                    <h:panelGrid columns="3">
                        <p:outputLabel value="Finalidade :" for="finalidade" />
                        <p:selectOneMenu id="finalidade" value="#{apartamentoMB.apto.finalidade}">
                            <f:selectItem itemValue="ALUGAR" itemLabel="ALUGAR" />
                            <f:selectItem itemValue="VENDER" itemLabel="VENDER" />
                            <f:selectItem itemValue="TEMPORADA" itemLabel="TEMPORADA" />
                        </p:selectOneMenu>
                        <p:message for="finalidade"/>

                        <p:outputLabel value="Observação: " for="observacao" />
                        <p:inputTextarea  id="observacao" value="#{apartamentoMB.apto.observacao}" maxlength="200" rows="2" cols="25"/>
                        <p:message for="observacao" />

                        <p:outputLabel value="Valor Imovél R$:" for="valor" />
                        <p:inputText id="valor" type="number" value="#{apartamentoMB.apto.valor}"  maxlength="9" required="true" requiredMessage="Campo Obrigatório!"/>
                        <p:message for="valor"/>

                        <p:outputLabel value="Valor Condomínio R$:" for="condominio" />
                        <p:inputText id="condominio" type="number" value="#{apartamentoMB.apto.condominio}"  maxlength="9" required="true" requiredMessage="Campo Obrigatório!"/>
                        <p:message for="condominio"/>

                        <p:outputLabel value="Área Total m²:" for="areatotal" />
                        <p:inputText id="areatotal" type="number" value="#{apartamentoMB.apto.areaTotal}" maxlength="5" required="true" requiredMessage="Campo Obrigatório!"/>
                        <p:message for="areatotal"/>

                        <p:outputLabel value="Área Construida m²:" for="areaconstruida" />
                        <p:inputText id="areaconstruida" maxlength="5" type="number" value="#{apartamentoMB.apto.areaConstruida}" required="true" requiredMessage="Campo Obrigatório!"/>
                        <p:message for="areaconstruida"/>

                        <p:outputLabel value="Quartos :" for="quartos" />
                        <p:inputText id="quartos" maxlength="2" type="number" value="#{apartamentoMB.apto.quarto}" required="true"  requiredMessage="Campo Obrigatório!"/>
                        <p:message for="quartos"/>

                        <p:outputLabel value="Suites :" for="suites" />
                        <p:inputText id="suites" maxlength="2" type="number" value="#{apartamentoMB.apto.suite}" required="true"  requiredMessage="Campo Obrigatório!"/>
                        <p:message for="suites"/>

                        <p:outputLabel value="Vagas Garagem :" for="garagem" />
                        <p:inputText id="garagem" maxlength="2" type="number" value="#{apartamentoMB.apto.vagaGaragem}" required="true"  requiredMessage="Campo Obrigatório!"/>
                        <p:message for="garagem"/>

                        <p:outputLabel value="Andar :" for="andar" />
                        <p:inputText id="andar" maxlength="2" type="number" value="#{apartamentoMB.apto.andar}" required="true"  requiredMessage="Campo Obrigatório!"/>
                        <p:message for="andar"/>

                        <p:outputLabel value="Banheiros Sociais:" for="banheiro" />
                        <p:inputText id="banheiro" maxlength="2" type="number" value="#{apartamentoMB.apto.banheiroSocial}" required="true"  requiredMessage="Campo Obrigatório!"/>
                        <p:message for="banheiro"/>

                        <p:outputLabel value="Possui Piscina? " for="piscina" />  
                        <p:selectBooleanCheckbox id="piscina" value="#{apartamentoMB.apto.piscina}" />  
                        <p:message for="piscina"/>

                        <p:outputLabel value="Possui Despensa? " for="despensa" />  
                        <p:selectBooleanCheckbox id="despensa" value="#{apartamentoMB.apto.despensa}" />  
                        <p:message for="despensa"/>

                        <p:outputLabel value="Possui Área de Serviço? " for="areaservico" />  
                        <p:selectBooleanCheckbox id="areaservico" value="#{apartamentoMB.apto.areaServico}" />  
                        <p:message for="areaservico"/>

                        <p:outputLabel value="Possui Churraqueira? " for="churrasqueira" />  
                        <p:selectBooleanCheckbox id="churrasqueira" value="#{apartamentoMB.apto.churrasqueira}" />  
                        <p:message for="churrasqueira"/>

                        <p:outputLabel value="Possui Porteiro? " for="porteiro" />  
                        <p:selectBooleanCheckbox id="porteiro" value="#{apartamentoMB.apto.porteiro}" />  
                        <p:message for="porteiro"/>

                        <p:commandButton ajax="false" icon="ui-icon-circle-triangle-e" value="Avançar" action="#{apartamentoMB.telaCadastrarEnderecoApto()}" />
                    </h:panelGrid>
                </h:form>
            </p:panel>
            
            <p:panel header="Cadastrar Endereço"  rendered="#{apartamentoMB.cadastrarEnderecoApto}" style="width: 745px; float: right">
                <h:form prependId="false">
                    <h:panelGrid columns="3">
                        <p:outputLabel value="Rua"/>
                        <p:inputText  id="rua" value="#{apartamentoMB.endereco.rua}" required="true" requiredMessage="Campo Obrigatorio"  />
                        <p:message id="mrua" for="rua"/>

                        <p:outputLabel value="Numero"/>
                        <p:inputText  id="numero" type="number" value="#{apartamentoMB.endereco.numero}" required="true" requiredMessage="Campo Obrigatorio"  />
                        <p:message id="mnumero" for="numero"/>

                        <p:outputLabel value="Bairro"/>
                        <p:inputText  id="bairro" value="#{apartamentoMB.endereco.bairro}" required="true" requiredMessage="Campo Obrigatorio" />
                        <p:message id="mbairro" for="bairro"/>

                        <p:outputLabel value="Cidade"/>
                        <p:inputText  id="cidade" value="#{apartamentoMB.endereco.cidade}" required="true" requiredMessage="Campo Obrigatorio"/>
                        <p:message id="mcidade" for="cidade"/>

                        <p:outputLabel value="Estado"/>
                        <p:inputText  id="estado" value="#{apartamentoMB.endereco.estado}" required="true" requiredMessage="Campo Obrigatorio" />
                        <p:message id="mestado" for="estado"/>

                        <p:outputLabel value="Complemento"/>
                        <p:inputText  id="complemento" value="#{apartamentoMB.endereco.complemento}"/>
                        <p:message id="mcomplemento" for="complemento"/>

                        <p:outputLabel value="CEP"/>
                        <p:inputMask  id="cep" mask="99999-999" value="#{apartamentoMB.endereco.cep}" required="true" requiredMessage="Campo Obrigatorio"  />
                        <p:message id="mcep" for="cep"/>

                        <p:outputLabel value="Localização"/>
                        <p:inputText  id="loc" value="#{apartamentoMB.loc}" required="true" requiredMessage="Botão buscar localização"/>
                        <p:message id="mloc" for="loc"/>

                        <p:commandButton icon="ui-icon-search" value="Buscar Localização" onclick="codeAddress()"/>
                        <p:commandButton ajax="false" icon="ui-icon-circle-triangle-e" value="Avançar" action="#{apartamentoMB.addApto()}" />
                    </h:panelGrid>
                    <div onload="initialize()"/>
                    <div id="map_canvas" style="width: 710px; height: 450px;"/>
                </h:form>
            </p:panel>
            
               <p:panel header="Imagens"  rendered="#{apartamentoMB.cadastrarImagensApto}" style="width: 745px; float: right"> 

                <h:form prependId="false" enctype="multipart/form-data">
                    <p:growl id="messages" showDetail="true" sticky="true" />  
                    <p:fileUpload fileUploadListener="#{apartamentoMB.fileUpload}"  
                                  mode="advanced"  
                                  update="messages"   
                                  multiple="true"
                                  fileLimit="15"
                                  sizeLimit="100000000"   
                                  allowTypes="/(\.|\/)(jpe?g|png)$/"/>
                    <h:panelGrid columns="2">

                        <p:outputLabel value="Descrição:" for="descImg"/>
                        <p:inputText id="descImg" maxlength="50" value="#{apartamentoMB.imagem.descricao}" />

                        <p:commandButton icon="ui-icon-disk" value="Concluir" action="#{apartamentoMB.addImagens()}"/>
                    </h:panelGrid>

                </h:form>
            </p:panel>

        </div><!--principal-->
        <div id="rodape">
            <ui:include src="/template-rodape.xhtml"/>
        </div>
    </h:body>
</html>